(this["webpackJsonphomework4-imagefinder"]=this["webpackJsonphomework4-imagefinder"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"Loader_container__3lnqc"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__lS1xk"}},13:function(e,t,a){e.exports={Button:"Button_Button__21YU5"}},19:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1w7pG",SearchForm:"Searchbar_SearchForm__arYiw","SearchForm-button":"Searchbar_SearchForm-button__ds5qo","SearchForm-button-label":"Searchbar_SearchForm-button-label__BwYDw","SearchForm-input":"Searchbar_SearchForm-input__1j9x8"}},42:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),o=a.n(n),r=a(5),l=a.n(r),s=(a(19),a(3)),i=a(10),m=a.n(i),u=(a(41),a(11)),b=a.n(u),j=function(){return Object(c.jsx)("div",{className:b.a.container,children:Object(c.jsx)(m.a,{type:"Audio",color:"#D21F3C",height:40,width:140})})},d=a(8),h=a.n(d),p=function(e){var t=e.image,a=e.onImageClick,n=t.webformatURL,o=t.tags;return Object(c.jsx)("li",{className:h.a.ImageGalleryItem,onClick:function(){return a(t)},children:Object(c.jsx)("img",{src:n,alt:o,className:h.a["ImageGalleryItem-image"]})})},O=a(12),f=a.n(O),_=function(e){var t=e.images,a=e.onImageClick;return Object(c.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){return Object(c.jsx)(p,{image:e,onImageClick:a},e.id)}))})},g=a(4),S=a.n(g),x=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(s.a)(a,2),r=o[0],l=o[1];return Object(c.jsx)("header",{className:S.a.Searchbar,children:Object(c.jsxs)("form",{className:S.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(c.jsx)("button",{type:"submit",className:S.a["SearchForm-button"],children:Object(c.jsx)("span",{className:S.a["SearchForm-button-label"],children:"Search"})}),Object(c.jsx)("input",{className:S.a["SearchForm-input"],type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:function(e){l(e.target.value)},value:r})]})})},I=a(13),v=a.n(I),y=function(e){var t=e.onClick;return Object(c.jsx)("button",{className:v.a.Button,onClick:t,children:"Load more"})},w=a(9),k=a.n(w),F=document.querySelector("#modal-root"),N=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[]);var o=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(c.jsx)("div",{className:k.a.Overlay,children:Object(c.jsx)("div",{className:k.a.Modal,children:a})}),F)},C=a(6),G=a.n(C),A="https://pixabay.com/api/",B="key=19554713-985e885829a4f41904dd25c99",E=12,L="resolved",M="pending",q="notFound",D="error",P="idle",U=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(P),l=Object(s.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)(""),b=Object(s.a)(u,2),d=b[0],h=b[1],p=Object(n.useState)(1),O=Object(s.a)(p,2),f=O[0],g=O[1],S=Object(n.useState)(!1),I=Object(s.a)(S,2),v=I[0],w=I[1],k=Object(n.useState)({}),F=Object(s.a)(k,2),C=F[0],U=F[1],Y=M,H=L,J=q,R=D;Object(n.useEffect)((function(){d&&(m(Y),fetch("".concat(A,"?").concat(B,"&q=").concat(d,"&image_type=photo&per_page=").concat(E,"&page=").concat(f)).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a"))})).then((function(e){o(a.concat(e.hits)),m(e.totalHits>0?H:J)})).catch((function(e){return m(R)})))}),[d,f]),Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]);var K=function(){w(!1)};return Object(c.jsxs)("div",{className:G.a.App,children:[Object(c.jsx)(x,{onSubmit:function(e){e&&(h(e),o([]),g(1))}}),(i===H||i===Y)&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_,{images:a,onImageClick:function(e){U(e),w(!0)}}),i===Y?Object(c.jsx)(j,{}):Object(c.jsx)(y,{onClick:function(){g(f+1)}})]}),i===J&&Object(c.jsx)("div",{children:"Images not found"}),v&&Object(c.jsxs)(N,{onClose:K,children:[Object(c.jsx)("img",{className:G.a.modalImage,src:C.largeImageURL,alt:C.tags}),Object(c.jsx)("button",{className:G.a.closeButton,onClick:K,children:"X"})]})]})};l.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={App:"App_App__3vlOO",modalImage:"App_modalImage__35mDK",closeButton:"App_closeButton__wFAWt"}},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2vdAp","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3SSCS"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2POba",Modal:"Modal_Modal__23rn_"}}},[[42,1,2]]]);
//# sourceMappingURL=main.eeaf73fa.chunk.js.map