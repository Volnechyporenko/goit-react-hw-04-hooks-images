{"version":3,"sources":["components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Loader","className","s","container","type","color","height","width","ImageGalleryItem","image","onImageClick","webformatURL","tags","onClick","src","alt","ImageGallery","images","map","id","Searchbar","onSubmit","useState","search","setSearch","SearchForm","event","preventDefault","autocomplete","autofocus","placeholder","onChange","target","value","Button","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","API_URL","STATUSES","App","setImages","status","setStatus","query","setQuery","page","setPage","showModal","setShowModal","modalImage","setModalImage","pending","resolved","notFound","error","fetch","then","responce","ok","json","Promise","reject","Error","data","concat","hits","totalHits","catch","scrollTo","top","documentElement","scrollHeight","behavior","closeModal","largeImageURL","closeButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eeaf73fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3lnqc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__lS1xk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__21YU5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1w7pG\",\"SearchForm\":\"Searchbar_SearchForm__arYiw\",\"SearchForm-button\":\"Searchbar_SearchForm-button__ds5qo\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__BwYDw\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1j9x8\"};","import LoaderComponent from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.container}>\n      <LoaderComponent type=\"Audio\" color=\"#D21F3C\" height={40} width={140} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, onImageClick }) => {\n  const { webformatURL, tags } = image;\n  return (\n    <li className={s.ImageGalleryItem} onClick={() => onImageClick(image)}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s['ImageGalleryItem-image']}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          onImageClick={onImageClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = event => {\n    setSearch(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(search);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s['SearchForm-button']}>\n          <span className={s['SearchForm-button-label']}>Search</span>\n        </button>\n\n        <input\n          className={s['SearchForm-input']}\n          type=\"text\"\n          autocomplete=\"off\"\n          autofocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={search}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({ onClose, children }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport Loader from './Loader/Loader';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Searchbar from './Searchbar/Searchbar';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\nimport s from './App.module.css';\n\nconst API_URL = {\n  url: 'https://pixabay.com/api/',\n  key: 'key=19554713-985e885829a4f41904dd25c99',\n  perPage: 12,\n};\n\nconst STATUSES = {\n  resolved: 'resolved',\n  pending: 'pending',\n  notFound: 'notFound',\n  error: 'error',\n  idle: 'idle',\n};\n\nconst App = () => {\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImage, setModalImage] = useState({});\n\n  const { pending, resolved, notFound, error } = STATUSES;\n\n  useEffect(() => {\n    if (query) {\n      setStatus(pending);\n      fetch(\n        `${API_URL.url}?${API_URL.key}&q=${query}&image_type=photo&per_page=${API_URL.perPage}&page=${page}`,\n      )\n        .then(responce => {\n          if (responce.ok) {\n            return responce.json();\n          }\n          return Promise.reject(new Error('Нет картинок'));\n        })\n        .then(data => {\n          setImages(images.concat(data.hits));\n          setStatus(data.totalHits > 0 ? resolved : notFound);\n        })\n        .catch(e => setStatus(error));\n    }\n  }, [query, page]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }, [images]);\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const onImageClick = image => {\n    setModalImage(image);\n    setShowModal(true);\n  };\n\n  const onSubmit = query => {\n    if (!query) {\n      return;\n    }\n    setQuery(query);\n    setImages([]);\n    setPage(1);\n  };\n\n  const onLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={onSubmit} />\n      {(status === resolved || status === pending) && (\n        <>\n          <ImageGallery images={images} onImageClick={onImageClick} />\n          {status === pending ? <Loader /> : <Button onClick={onLoadMore} />}\n        </>\n      )}\n      {status === notFound && <div>Images not found</div>}\n      {showModal && (\n        <Modal onClose={closeModal}>\n          <img\n            className={s.modalImage}\n            src={modalImage.largeImageURL}\n            alt={modalImage.tags}\n          />\n          <button className={s.closeButton} onClick={closeModal}>\n            X\n          </button>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3vlOO\",\"modalImage\":\"App_modalImage__35mDK\",\"closeButton\":\"App_closeButton__wFAWt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2vdAp\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3SSCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2POba\",\"Modal\":\"Modal_Modal__23rn_\"};"],"sourceRoot":""}